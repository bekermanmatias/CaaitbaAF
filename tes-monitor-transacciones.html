<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8" />
  <title>UI.TES.MONITOR · Monitor de Pagos (Backoffice)</title>
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <script src="https://cdn.tailwindcss.com"></script>
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css" />
  <style>
    ::-webkit-scrollbar { width: 8px; height: 8px; }
    ::-webkit-scrollbar-track { background: #f3f4f6; }
    ::-webkit-scrollbar-thumb { background: #cbd5e1; border-radius: 9999px; }
    body { font-family: system-ui, -apple-system, BlinkMacSystemFont, "Segoe UI", sans-serif; }
  </style>
</head>
<body class="bg-slate-100 text-slate-900">
  <div class="min-h-screen flex flex-col">
    <header class="bg-white border-b border-slate-200 shadow-sm sticky top-0 z-20">
      <div class="px-4 sm:px-6 py-4">
        <div class="flex items-center gap-3">
          <div class="h-9 w-9 rounded-xl bg-indigo-600 text-white flex items-center justify-center font-semibold shadow-sm">TE</div>
          <div>
            <p class="text-xs font-semibold tracking-wide uppercase text-slate-500">CAAITBA · Tesorería</p>
            <p class="text-sm font-semibold text-slate-900">Monitor de Pagos (Backoffice)</p>
          </div>
        </div>
      </div>
    </header>

    <main class="flex-1 px-4 sm:px-6 py-6 max-w-7xl mx-auto w-full">
      <div class="mb-6">
        <h1 class="text-xl font-semibold text-slate-900">Monitor de Pagos</h1>
        <p class="text-sm text-slate-600 mt-1">Permite a Tesorería ver los pagos que ingresaron con error (E1 - Monto Insuficiente, E2 - Solicitud Vencida) y marcar casos para contactar al afiliado</p>
      </div>

      <!-- Filtros -->
      <div class="bg-white rounded-2xl border border-slate-200 shadow-sm p-4 mb-6">
        <div class="flex flex-wrap gap-4">
          <div>
            <label class="block text-[11px] font-semibold text-slate-500 uppercase tracking-wide mb-1">Fecha Desde</label>
            <input type="date" class="rounded-lg border border-slate-300 bg-white px-3 py-2 text-sm text-slate-900 focus:border-blue-500 focus:ring-1 focus:ring-blue-500" />
          </div>
          <div>
            <label class="block text-[11px] font-semibold text-slate-500 uppercase tracking-wide mb-1">Fecha Hasta</label>
            <input type="date" class="rounded-lg border border-slate-300 bg-white px-3 py-2 text-sm text-slate-900 focus:border-blue-500 focus:ring-1 focus:ring-blue-500" />
          </div>
          <div>
            <label class="block text-[11px] font-semibold text-slate-500 uppercase tracking-wide mb-1">Tipo de error</label>
            <select class="rounded-lg border border-slate-300 bg-white px-3 py-2 text-sm text-slate-900 focus:border-blue-500 focus:ring-1 focus:ring-blue-500">
              <option value="">Todos</option>
              <option>E1 - Monto Insuficiente</option>
              <option>E2 - Solicitud Vencida</option>
            </select>
          </div>
          <div class="flex items-end">
            <button class="rounded-lg bg-blue-600 text-white px-4 py-2 text-sm font-semibold hover:bg-blue-700">
              Filtrar
            </button>
          </div>
        </div>
      </div>

      <!-- Grilla de Resultados -->
      <div class="bg-white rounded-2xl border border-slate-200 shadow-sm overflow-hidden">
        <div class="px-4 py-3 border-b border-slate-200">
          <h2 class="text-sm font-semibold text-slate-800">Pagos con error (excepciones E1, E2)</h2>
          <p class="text-[11px] text-slate-500 mt-0.5">ID Orden, Monto Recibido, Mensaje de Error. Acción: marcar para contactar afiliado manualmente</p>
        </div>
        <div class="overflow-auto">
          <table class="w-full text-sm min-w-[900px]">
            <thead class="bg-slate-50 text-[11px] uppercase text-slate-500 tracking-wide sticky top-0">
              <tr>
                <th class="px-4 py-2 text-left font-semibold">ID Orden</th>
                <th class="px-4 py-2 text-left font-semibold">Fecha/Hora</th>
                <th class="px-4 py-2 text-left font-semibold">Afiliado</th>
                <th class="px-4 py-2 text-right font-semibold">Monto Recibido</th>
                <th class="px-4 py-2 text-center font-semibold">Estado</th>
                <th class="px-4 py-2 text-left font-semibold">Mensaje de Error</th>
                <th class="px-4 py-2 text-center font-semibold">Acciones</th>
              </tr>
            </thead>
            <tbody class="divide-y divide-slate-100 text-xs">
              <!-- Fila con error E1: Monto Insuficiente / Pago Parcial -->
              <tr class="hover:bg-red-50 bg-red-50/30">
                <td class="px-4 py-2 font-mono font-semibold text-slate-800">2026-000098</td>
                <td class="px-4 py-2 text-slate-600">05/02/2026 11:15</td>
                <td class="px-4 py-2">María González</td>
                <td class="px-4 py-2 text-right font-semibold text-red-700">$ 500,00</td>
                <td class="px-4 py-2 text-center">
                  <span class="inline-flex rounded-full bg-red-50 text-red-700 border border-red-200 px-2 py-0.5 font-medium">E1</span>
                </td>
                <td class="px-4 py-2 text-red-700 font-medium">
                  Pago parcial detectado ($500 vs $1.000 esperado)
                </td>
                <td class="px-4 py-2 text-center">
                  <button class="text-blue-600 hover:text-blue-800 mr-2" title="Ver Log Técnico"><i class="fa-solid fa-file-lines"></i></button>
                  <button class="rounded-lg bg-amber-100 text-amber-800 px-2 py-1 text-[11px] font-semibold hover:bg-amber-200" title="Marcar para contactar afiliado">
                    <i class="fa-solid fa-user-plus mr-1"></i> Contactar
                  </button>
                </td>
              </tr>
              <!-- Fila con error E2: Solicitud Vencida -->
              <tr class="hover:bg-red-50 bg-red-50/30">
                <td class="px-4 py-2 font-mono font-semibold text-slate-800">2026-000045</td>
                <td class="px-4 py-2 text-slate-600">04/02/2026 16:45</td>
                <td class="px-4 py-2">Carlos Ruiz</td>
                <td class="px-4 py-2 text-right font-semibold text-red-700">$ 25.000,00</td>
                <td class="px-4 py-2 text-center">
                  <span class="inline-flex rounded-full bg-red-50 text-red-700 border border-red-200 px-2 py-0.5 font-medium">E2</span>
                </td>
                <td class="px-4 py-2 text-red-700 font-medium">
                  Solicitud Vencida
                </td>
                <td class="px-4 py-2 text-center">
                  <button class="text-blue-600 hover:text-blue-800 mr-2" title="Ver Log Técnico"><i class="fa-solid fa-file-lines"></i></button>
                  <button class="rounded-lg bg-amber-100 text-amber-800 px-2 py-1 text-[11px] font-semibold hover:bg-amber-200" title="Marcar para contactar afiliado">
                    <i class="fa-solid fa-user-plus mr-1"></i> Contactar
                  </button>
                </td>
              </tr>
              <!-- Otra fila E1 -->
              <tr class="hover:bg-red-50 bg-red-50/30">
                <td class="px-4 py-2 font-mono font-semibold text-slate-800">2026-000112</td>
                <td class="px-4 py-2 text-slate-600">06/02/2026 09:00</td>
                <td class="px-4 py-2">Ana Silva</td>
                <td class="px-4 py-2 text-right font-semibold text-red-700">$ 10.000,00</td>
                <td class="px-4 py-2 text-center">
                  <span class="inline-flex rounded-full bg-red-50 text-red-700 border border-red-200 px-2 py-0.5 font-medium">E1</span>
                </td>
                <td class="px-4 py-2 text-red-700 font-medium">
                  Monto insuficiente (faltan $ 15.200,00)
                </td>
                <td class="px-4 py-2 text-center">
                  <button class="text-blue-600 hover:text-blue-800 mr-2" title="Ver Log Técnico"><i class="fa-solid fa-file-lines"></i></button>
                  <button class="rounded-lg bg-amber-100 text-amber-800 px-2 py-1 text-[11px] font-semibold hover:bg-amber-200" title="Marcar para contactar afiliado">
                    <i class="fa-solid fa-user-plus mr-1"></i> Contactar
                  </button>
                </td>
              </tr>
            </tbody>
          </table>
        </div>
      </div>

      <!-- Resumen -->
      <div class="mt-6 grid grid-cols-1 sm:grid-cols-2 gap-4">
        <div class="bg-white rounded-xl border border-red-200 p-4">
          <p class="text-[11px] uppercase tracking-wide text-slate-500 font-semibold">Pagos con error (E1 / E2)</p>
          <p class="mt-1 text-2xl font-bold text-red-700">36</p>
          <p class="text-xs text-slate-500 mt-1">E1: Monto insuficiente · E2: Solicitud vencida</p>
        </div>
        <div class="bg-white rounded-xl border border-slate-200 p-4">
          <p class="text-[11px] uppercase tracking-wide text-slate-500 font-semibold">Marcados para contactar</p>
          <p class="mt-1 text-2xl font-bold text-amber-700">12</p>
        </div>
      </div>
    </main>
  </div>
</body>
</html>
